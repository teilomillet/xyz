{{ define "main" }}
<div class="page">
  {{ if and .TableOfContents (gt (len .TableOfContents) 100) }}
  <aside class="sidebar">
    {{ .TableOfContents }}
  </aside>
  {{ end }}
  <article class="{{ if and .TableOfContents (gt (len .TableOfContents) 100) }}content{{ else }}content-full{{ end }}">
    <header class="post-header">
      <h1>{{ .Title }}</h1>
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ if .Params.dateformat }}{{ .Date.Format .Params.dateformat }}{{ else }}{{ .Date.Format "January 2, 2006" }}{{ end }}</time>
    </header>
    <div class="post-content">
      {{ .Content }}
    </div>
  </article>
</div>
{{ end }}
